# =============================================================================
# RECIPEZ DOCKER ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env.docker and fill in your values:
#   cp .env.docker.example .env.docker
#
# IMPORTANT: Never commit .env.docker to version control!

# =============================================================================
# FLASK CONFIGURATION
# =============================================================================
FLASK_ENV=production

# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=

# Domain for the application (used for cookies, CORS, etc.)
DOMAIN=recipez.local

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Using Docker bridge network: containers communicate via DNS names
# Use 'postgres' (the service name) for bundled database

DB_HOST=postgres
DB_PORT=5432
DB_USER=recipez
DB_NAME=recipez
DB_SCHEMA=recipez

# Database password (REQUIRED)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
DB_PASSWORD=

# Option 2: Direct DATABASE_URL (for external databases)
# Uncomment and set this to use an external database.
# When set, DB_HOST/DB_USER/etc. are ignored.
# Format: postgresql+psycopg://USER:PASSWORD@HOST:PORT/DATABASE?options=-c%20search_path=SCHEMA
#
# DATABASE_URL=postgresql+psycopg://user:password@external-db.example.com:5432/recipez?options=-c%20search_path=recipez

# =============================================================================
# SECURITY & ENCRYPTION
# =============================================================================
# Generate with: python -c "import base64, secrets; print(base64.b64encode(secrets.token_bytes(32)).decode())"
RECIPEZ_ENCRYPTION_KEY=

# Generate with: python -c "import base64, secrets; print(base64.b64encode(secrets.token_bytes(64)).decode())"
RECIPEZ_HMAC_SECRET=

# =============================================================================
# EMAIL CONFIGURATION (Optional - for email verification)
# =============================================================================
# Gmail App Password for sending verification emails
# Create at: https://myaccount.google.com/apppasswords
RECIPEZ_SENDER_PASSWORD=

# =============================================================================
# OPENAI CONFIGURATION (Optional - for AI features)
# =============================================================================
# API key for OpenAI or compatible endpoint
OPENAI_API_KEY=

# Base URL for API (use default for OpenAI, or custom for local LLM)
OPENAI_API_BASE=https://api.openai.com/v1

# Model IDs for recipe generation and grocery list features
OPENAI_RECIPE_MODEL_ID=gpt-3.5-turbo
OPENAI_GROCERY_MODEL_ID=gpt-3.5-turbo

# =============================================================================
# DOCKER-SPECIFIC CONFIGURATION
# =============================================================================
# Port to expose the application on the host
APP_PORT=5000

# Initialize database with seed data on first run
# Set to 'true' only for fresh installations
INIT_DB=false

# Database connection wait timeout (seconds)
DB_WAIT_TIMEOUT=30

# =============================================================================
# GUNICORN CONFIGURATION (Optional - tune for your hardware)
# =============================================================================
# Number of worker processes (default: min(cpu_count * 2 + 1, 4))
# GUNICORN_WORKERS=4

# Request timeout in seconds (default: 300 for AI features)
# GUNICORN_TIMEOUT=300

# Log level: debug, info, warning, error, critical
# GUNICORN_LOG_LEVEL=info

# Max requests before worker restart (memory leak prevention)
# GUNICORN_MAX_REQUESTS=1000
